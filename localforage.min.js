/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/ !function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;(n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).localforage=e()}}(function(){return(function e(n,t,r){function o(a,u){if(!t[a]){if(!n[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var f=Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var s=t[a]={exports:{}};n[a][0].call(s.exports,function(e){var t;return o(n[a][1][e]||e)},s,s.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o})({1:[function(e,n,t){(function(e){"use strict";var t,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(s),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),t=function(){u.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){s(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(s,0)};else{var c=new e.MessageChannel;c.port1.onmessage=s,t=function(){c.port2.postMessage(0)}}var f=[];function s(){r=!0;for(var e,n,t=f.length;t;){for(n=f,f=[],e=-1;++e<t;)n[e]();t=f.length}r=!1}n.exports=function e(n){1!==f.push(n)||r||t()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n,t){"use strict";var r=e(1);function o(){}var i={},a=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(e){if("function"!=typeof e)throw TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==o&&v(this,e)}function s(e,n,t){this.promise=e,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof t&&(this.onRejected=t,this.callRejected=this.otherCallRejected)}function l(e,n,t){r(function(){var r;try{r=n(t)}catch(o){return i.reject(e,o)}r===e?i.reject(e,TypeError("Cannot resolve promise with itself")):i.resolve(e,r)})}function d(e){var n=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof n)return function t(){n.apply(e,arguments)}}function v(e,n){var t=!1;function r(n){!t&&(t=!0,i.reject(e,n))}function o(n){!t&&(t=!0,i.resolve(e,n))}var a=h(function e(){n(o,r)});"error"===a.status&&r(a.value)}function h(e,n){var t={};try{t.value=e(n),t.status="success"}catch(r){t.status="error",t.value=r}return t}n.exports=f,f.prototype.catch=function(e){return this.then(null,e)},f.prototype.then=function(e,n){if("function"!=typeof e&&this.state===u||"function"!=typeof n&&this.state===a)return this;var t=new this.constructor(o);return this.state!==c?l(t,this.state===u?e:n,this.outcome):this.queue.push(new s(t,e,n)),t},s.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},s.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)},s.prototype.callRejected=function(e){i.reject(this.promise,e)},s.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)},i.resolve=function(e,n){var t=h(d,n);if("error"===t.status)return i.reject(e,t.value);var r=t.value;if(r)v(e,r);else{e.state=u,e.outcome=n;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(n)}return e},i.reject=function(e,n){e.state=a,e.outcome=n;for(var t=-1,r=e.queue.length;++t<r;)e.queue[t].callRejected(n);return e},f.resolve=function e(n){return n instanceof this?n:i.resolve(new this(o),n)},f.reject=function e(n){var t=new this(o);return i.reject(t,n)},f.all=function e(n){var t=this;if("[object Array]"!==Object.prototype.toString.call(n))return this.reject(TypeError("must be an array"));var r=n.length,a=!1;if(!r)return this.resolve([]);for(var u=Array(r),c=0,f=-1,s=new this(o);++f<r;)l(n[f],f);return s;function l(e,n){t.resolve(e).then(function e(t){u[n]=t,++c!==r||a||(a=!0,i.resolve(s,u))},function(e){a||(a=!0,i.reject(s,e))})}},f.race=function e(n){var t=this;if("[object Array]"!==Object.prototype.toString.call(n))return this.reject(TypeError("must be an array"));var r=n.length,a=!1;if(!r)return this.resolve([]);for(var u=-1,c=new this(o);++u<r;)f(n[u]);return c;function f(e){t.resolve(e).then(function(e){a||(a=!0,i.resolve(c,e))},function(e){a||(a=!0,i.reject(c,e))})}}},{1:1}],3:[function(e,n,t){(function(n){"use strict";"function"!=typeof n.Promise&&(n.Promise=e(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,n,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function e(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(n){return}}();function i(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(t){if("TypeError"!==t.name)throw t;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(n.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function u(e,n){n&&e.then(function(e){n(null,e)},function(e){n(e)})}function c(e,n,t){"function"==typeof n&&e.then(n),"function"==typeof t&&e.catch(t)}function f(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function s(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var l="local-forage-detect-blob-support",d=void 0,v={},h=Object.prototype.toString,p="readonly",y="readwrite";function b(e){var n=v[e.name],t={};t.promise=new a(function(e,n){t.resolve=e,t.reject=n}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function g(e){var n=v[e.name].deferredOperations.pop();if(n)return n.resolve(),n.promise}function m(e,n){var t=v[e.name].deferredOperations.pop();if(t)return t.reject(n),t.promise}function $(e,n){return new a(function(t,r){if(v[e.name]=v[e.name]||R(),e.db){if(!n)return t(e.db);b(e),e.db.close()}var i=[e.name];n&&i.push(e.version);var a=o.open.apply(o,i);n&&(a.onupgradeneeded=function(n){var t=a.result;try{t.createObjectStore(e.storeName),n.oldVersion<=1&&t.createObjectStore(l)}catch(r){if("ConstraintError"===r.name)console.warn('The database "'+e.name+'" has been upgraded from version '+n.oldVersion+" to version "+n.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw r}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){var n=a.result;n.onversionchange=function(e){e.target.close()},t(n),g(e)}})}function w(e){return $(e,!1)}function I(e){return $(e,!0)}function j(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==n&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||t){if(t){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function _(e){return i([function e(n){for(var t=n.length,r=new ArrayBuffer(t),o=new Uint8Array(r),i=0;i<t;i++)o[i]=n.charCodeAt(i);return r}(atob(e.data))],{type:e.type})}function S(e){return e&&e.__local_forage_encoded_blob}function N(e){var n=this,t=n._initReady().then(function(){var e=v[n._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return c(t,e,e),t}function E(e,n,t,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,n);t(null,o)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then(function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),I(e)}).then(function(){return(function e(n){b(n);for(var t=v[n.name],r=t.forages,o=0;o<r.length;o++){var i=r[o];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return n.db=null,w(n).then(function(e){return(n.db=e,j(n))?I(n):e}).then(function(e){n.db=t.db=e;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=e}).catch(function(e){throw m(n,e),e})})(e).then(function(){E(e,n,t,r-1)})}).catch(t);t(i)}}function R(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}var A={_driver:"asyncStorage",_initStorage:function e(n){var t=this,r={db:null};if(n)for(var o in n)r[o]=n[o];var i=v[r.name];i||(i=R(),v[r.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=N);var u=[];function c(){return a.resolve()}for(var f=0;f<i.forages.length;f++){var s=i.forages[f];s!==t&&u.push(s._initReady().catch(c))}var l=i.forages.slice(0);return a.all(u).then(function(){return r.db=i.db,w(r)}).then(function(e){return(r.db=e,j(r,t._defaultConfig.version))?I(r):e}).then(function(e){r.db=i.db=e,t._dbInfo=r;for(var n=0;n<l.length;n++){var o=l[n];o!==t&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}})},_support:function e(){try{if(!o||!o.open)return!1;var n="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!n||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(r){return!1}}(),iterate:function e(n,t){var r=this,o=new a(function(e,t){r.ready().then(function(){E(r._dbInfo,p,function(o,i){if(o)return t(o);try{var a=i.objectStore(r._dbInfo.storeName).openCursor(),u=1;a.onsuccess=function(){var t=a.result;if(t){var r=t.value;S(r)&&(r=_(r));var o=n(r,t.key,u++);void 0!==o?e(o):t.continue()}else e()},a.onerror=function(){t(a.error)}}catch(c){t(c)}})}).catch(t)});return u(o,t),o},getItem:function e(n,t){var r=this;n=f(n);var o=new a(function(e,t){r.ready().then(function(){E(r._dbInfo,p,function(o,i){if(o)return t(o);try{var a=i.objectStore(r._dbInfo.storeName).get(n);a.onsuccess=function(){var n=a.result;void 0===n&&(n=null),S(n)&&(n=_(n)),e(n)},a.onerror=function(){t(a.error)}}catch(u){t(u)}})}).catch(t)});return u(o,t),o},setItem:function e(n,t,r){var o=this;n=f(n);var c=new a(function(e,r){var u;o.ready().then(function(){var e,n;return(u=o._dbInfo,"[object Blob]"===h.call(t))?(e=u.db,"boolean"==typeof d?a.resolve(d):(n=e,new a(function(e){var t=n.transaction(l,y),r=i([""]);t.objectStore(l).put(r,"key"),t.onabort=function(n){n.preventDefault(),n.stopPropagation(),e(!1)},t.oncomplete=function(){var n=navigator.userAgent.match(/Chrome\/(\d+)/);e(navigator.userAgent.match(/Edge\//)||!n||parseInt(n[1],10)>=43)}}).catch(function(){return!1})).then(function(e){return d=e})).then(function(e){var n;return e?t:(n=t,new a(function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){e({__local_forage_encoded_blob:!0,data:btoa(t.target.result||""),type:n.type})},r.readAsBinaryString(n)}))}):t}).then(function(t){E(o._dbInfo,y,function(i,a){if(i)return r(i);try{var u=a.objectStore(o._dbInfo.storeName);null===t&&(t=void 0);var c=u.put(t,n);a.oncomplete=function(){void 0===t&&(t=null),e(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;r(e)}}catch(f){r(f)}})}).catch(r)});return u(c,r),c},removeItem:function e(n,t){var r=this;n=f(n);var o=new a(function(e,t){r.ready().then(function(){E(r._dbInfo,y,function(o,i){if(o)return t(o);try{var a=i.objectStore(r._dbInfo.storeName).delete(n);i.oncomplete=function(){e()},i.onerror=function(){t(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;t(e)}}catch(u){t(u)}})}).catch(t)});return u(o,t),o},clear:function e(n){var t=this,r=new a(function(e,n){t.ready().then(function(){E(t._dbInfo,y,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(a){n(a)}})}).catch(n)});return u(r,n),r},length:function e(n){var t=this,r=new a(function(e,n){t.ready().then(function(){E(t._dbInfo,p,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(a){n(a)}})}).catch(n)});return u(r,n),r},key:function e(n,t){var r=this,o=new a(function(e,t){if(n<0){e(null);return}r.ready().then(function(){E(r._dbInfo,p,function(o,i){if(o)return t(o);try{var a=i.objectStore(r._dbInfo.storeName),u=!1,c=a.openKeyCursor();c.onsuccess=function(){var t=c.result;if(!t){e(null);return}0===n?e(t.key):u?e(t.key):(u=!0,t.advance(n))},c.onerror=function(){t(c.error)}}catch(f){t(f)}})}).catch(t)});return u(o,t),o},keys:function e(n){var t=this,r=new a(function(e,n){t.ready().then(function(){E(t._dbInfo,p,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var n=i.result;if(!n){e(a);return}a.push(n.key),n.continue()},i.onerror=function(){n(i.error)}}catch(u){n(u)}})}).catch(n)});return u(r,n),r},dropInstance:function e(n,t){t=s.apply(this,arguments);var r,i=this.config();if((n="function"!=typeof n&&n||{}).name||(n.name=n.name||i.name,n.storeName=n.storeName||i.storeName),n.name){var c=n.name===i.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):w(n).then(function(e){var t=v[n.name],r=t.forages;t.db=e;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=e;return e});r=n.storeName?c.then(function(e){if(e.objectStoreNames.contains(n.storeName)){var t=e.version+1;b(n);var r=v[n.name],i=r.forages;e.close();for(var u=0;u<i.length;u++){var c=i[u];c._dbInfo.db=null,c._dbInfo.version=t}return new a(function(e,r){var i=o.open(n.name,t);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(n.storeName)},i.onsuccess=function(){var n=i.result;n.close(),e(n)}}).then(function(e){r.db=e;for(var n=0;n<i.length;n++){var t=i[n];t._dbInfo.db=e,g(t._dbInfo)}}).catch(function(e){throw(m(n,e)||a.resolve()).catch(function(){}),e})}}):c.then(function(e){b(n);var t=v[n.name],r=t.forages;e.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new a(function(e,t){var r=o.deleteDatabase(n.name);r.onerror=function(){var e=r.result;e&&e.close(),t(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+n.name+'" until all open connections are closed')},r.onsuccess=function(){var n=r.result;n&&n.close(),e(n)}}).then(function(e){t.db=e;for(var n=0;n<r.length;n++)g(r[n]._dbInfo)}).catch(function(e){throw(m(n,e)||a.resolve()).catch(function(){}),e})})}else r=a.reject("Invalid arguments");return u(r,t),r}},D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=/^~~local_forage_type~([^~]+)~/,O="__lfsc__:",x=O.length,F="arbf",T="blob",k="si08",B="ui08",q="uic8",L="si16",M="si32",P="ur16",U="ui32",z="fl32",W="fl64",K=x+F.length,V=Object.prototype.toString;function X(e){var n,t,r,o,i,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),s=new Uint8Array(f);for(n=0;n<u;n+=4)t=D.indexOf(e[n]),r=D.indexOf(e[n+1]),o=D.indexOf(e[n+2]),i=D.indexOf(e[n+3]),s[c++]=t<<2|r>>4,s[c++]=(15&r)<<4|o>>2,s[c++]=(3&o)<<6|63&i;return f}function Y(e){var n,t=new Uint8Array(e),r="";for(n=0;n<t.length;n+=3)r+=D[t[n]>>2],r+=D[(3&t[n])<<4|t[n+1]>>4],r+=D[(15&t[n+1])<<2|t[n+2]>>6],r+=D[63&t[n+2]];return t.length%3==2?r=r.substring(0,r.length-1)+"=":t.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var G={serialize:function e(n,t){var r="";if(n&&(r=V.call(n)),n&&("[object ArrayBuffer]"===r||n.buffer&&"[object ArrayBuffer]"===V.call(n.buffer))){var o,i=O;n instanceof ArrayBuffer?(o=n,i+=F):(o=n.buffer,"[object Int8Array]"===r?i+=k:"[object Uint8Array]"===r?i+=B:"[object Uint8ClampedArray]"===r?i+=q:"[object Int16Array]"===r?i+=L:"[object Uint16Array]"===r?i+=P:"[object Int32Array]"===r?i+=M:"[object Uint32Array]"===r?i+=U:"[object Float32Array]"===r?i+=z:"[object Float64Array]"===r?i+=W:t(Error("Failed to get type for BinaryArray"))),t(i+Y(o))}else if("[object Blob]"===r){var a=new FileReader;a.onload=function(){var e="~~local_forage_type~"+n.type+"~"+Y(this.result);t(O+T+e)},a.readAsArrayBuffer(n)}else try{t(JSON.stringify(n))}catch(u){console.error("Couldn't convert value into a JSON string: ",n),t(null,u)}},deserialize:function e(n){if(n.substring(0,x)!==O)return JSON.parse(n);var t,r=n.substring(K),o=n.substring(x,K);if(o===T&&C.test(r)){var a=r.match(C);t=a[1],r=r.substring(a[0].length)}var u=X(r);switch(o){case F:return u;case T:return i([u],{type:t});case k:return new Int8Array(u);case B:return new Uint8Array(u);case q:return new Uint8ClampedArray(u);case L:return new Int16Array(u);case P:return new Uint16Array(u);case M:return new Int32Array(u);case U:return new Uint32Array(u);case z:return new Float32Array(u);case W:return new Float64Array(u);default:throw Error("Unkown type: "+o)}},stringToBuffer:X,bufferToString:Y};function J(e,n,t,r){var o=this;e=f(e);var i=new a(function(i,a){o.ready().then(function(){void 0===n&&(n=null);var u=n,c=o._dbInfo;c.serializer.serialize(n,function(n,f){f?a(f):c.db.transaction(function(t){!function e(n,t,r,o,i,a){n.executeSql(r,o,i,function(e,n){n.code===n.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,u){u.rows.length?a(e,n):function e(n,t,r,o){n.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,o)}(e,t,function(){e.executeSql(r,o,i,a)},a)},a):a(e,n)},a)}(t,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){i(u)},function(e,n){a(n)})},function(n){if(n.code===n.QUOTA_ERR){if(r>0){i(J.apply(o,[e,u,t,r-1]));return}a(n)}})})}).catch(a)});return u(i,t),i}var H=function e(n,t){for(var r,o,i=n.length,a=0;a<i;){if(r=n[a],r===(o=t)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;a++}return!1},Q=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Z={},ee={},en={INDEXEDDB:A},et=[en.INDEXEDDB._driver],er=["dropInstance"],eo=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(er),ei={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ea(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function eu(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(Q(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var ec=new(function(){function e(n){for(var t in!function e(n,t){if(!(n instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),en)if(en.hasOwnProperty(t)){var r=en[t],o=r._driver;this[t]=o,Z[o]||this.defineDriver(r)}this._defaultConfig=eu({},ei),this._config=eu({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function e(n){if((void 0===n?"undefined":r(n))==="object"){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var t in n){if("storeName"===t&&(n[t]=n[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof n[t])return Error("Database version must be a number.");this._config[t]=n[t]}return!("driver"in n)||!n.driver||this.setDriver(this._config.driver)}return"string"==typeof n?this._config[n]:(0,this._config)},e.prototype.defineDriver=function e(n,t,r){var o=new a(function(e,t){try{var r=n._driver,o=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){t(o);return}for(var i=eo.concat("_initStorage"),c=0,f=i.length;c<f;c++){var s=i[c];if((!H(er,s)||n[s])&&"function"!=typeof n[s]){t(o);return}}!function e(){for(var t=function e(n){return function(){var e=Error("Method "+n+" is not implemented by the current driver"),t=a.reject(e);return u(t,arguments[arguments.length-1]),t}},r=0,o=er.length;r<o;r++){var i=er[r];n[i]||(n[i]=t(i))}}();var l=function t(o){Z[r]&&console.info("Redefining LocalForage driver: "+r),Z[r]=n,ee[r]=o,e()};"_support"in n?n._support&&"function"==typeof n._support?n._support().then(l,t):l(!!n._support):l(!0)}catch(d){t(d)}});return c(o,t,r),o},e.prototype.driver=function e(){return this._driver||null},e.prototype.getDriver=function e(n,t,r){var o=Z[n]?a.resolve(Z[n]):a.reject(Error("Driver not found."));return c(o,t,r),o},e.prototype.getSerializer=function e(n){var t=a.resolve(G);return c(t,n),t},e.prototype.ready=function e(n){var t=this,r=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return c(r,n,n),r},e.prototype.setDriver=function e(n,t,r){var o=this;Q(n)||(n=[n]);var i=this._getSupportedDrivers(n);function u(){o._config.driver=o.driver()}function f(e){return o._extend(e),u(),o._ready=o._initStorage(o._config),o._ready}var s=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=s.then(function(){var e=i[0];return o._dbInfo=null,o._ready=null,o.getDriver(e).then(function(e){var n;o._driver=e._driver,u(),o._wrapLibraryMethodsWithReady(),o._initDriver=(n=i,function(){var e=0;return function t(){for(;e<n.length;){var r=n[e];return e++,o._dbInfo=null,o._ready=null,o.getDriver(r).then(f).catch(t)}u();var i=Error("No available storage method found.");return o._driverSet=a.reject(i),o._driverSet}()})})}).catch(function(){u();var e=Error("No available storage method found.");return o._driverSet=a.reject(e),o._driverSet}),c(this._driverSet,t,r),this._driverSet},e.prototype.supports=function e(n){return!!ee[n]},e.prototype._extend=function e(n){eu(this,n)},e.prototype._getSupportedDrivers=function e(n){for(var t=[],r=0,o=n.length;r<o;r++){var i=n[r];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function e(){for(var n=0,t=eo.length;n<t;n++)ea(this,eo[n])},e.prototype.createInstance=function n(t){return new e(t)},e}());n.exports=ec},{3:3}]},{},[4])(4)});